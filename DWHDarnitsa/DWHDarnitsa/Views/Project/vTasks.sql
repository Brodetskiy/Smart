CREATE VIEW project.[vTasks]
	AS 
		SELECT 
		T1.[ИДПроекта]
		,T1.[ИдентификаторЗадачи]
		,T1.[ИдентификаторРодительскойЗадачи]
		,T1.[НазваниеРодительскойЗадачи]
		,T1.[ИмяПроекта]
		,T1.[ФактическаяДатаОкончанияЗадачи]
		,T1.[ФактическаяДатаНачалаЗадачи]
		,T1.[УникальныйИдентификаторКлиентаЗадачи]
		,T1.[ДатаСозданияЗадачи]
		,T1.[КрайнийСрокЗадачи]
		,T1.[ДлительностьЗадачи]
		,T1.[ДатаОкончанияЗадачи]
		,T1.[ИндексЗадачи]
		,T1.[ЗадачаЯвляетсяАктивной]
		,T1.[КритическаяЗадача]
		,T1.[ЗадачаСФиксированнымОбъемомРабот]
		,T1.[ЗадачаЯвляетсяВнешней]
		,T1.[ЗадачаПланируетсяВручную]
		,T1.[ЗадачаПомечена]
		,T1.[ЗадачаЯвляетсяВехой]
		,T1.[ЗадачаСПревышениемДоступности]
		,T1.[ЗадачаЯвляетсяСуммарнойДляПроекта]
		,T1.[ПовторяющаясяЗадача]
		,T1.[ЗадачаЯвляетсяСуммарной]
		,T1.[ПозднееОкончаниеЗадачи]
		,T1.[ПозднееНачалоЗадачи]
		,T1.[ДатаИзмененияЗадачи]
		,T1.[СчетчикИзмененныхВерсийЗадачи]
		,T1.[НазваниеЗадачи]
		,T1.[УровеньСтруктурыЗадачи]
		,T1.[НомерЗадачиВСтруктуре]
		,T1.[ПроцентЗавершенияЗадачи]
		,T1.[ПроцентЗавершенияЗадачиПоТрудозатратам]
		,T1.[ФизическийПроцентЗавершенияЗадачи]
		,T1.[ПриоритетЗадачи]
		,T1.[ДатаНачалаЗадачи]
		,T1.[СтрокаДатыНачалаЗадачи]
		,T1.[ОтклонениеНачалаЗадачи]
		,T1.[ОбщийВременнойРезерв]
		,T1.[ТрудозатратыЗадачи]
		,T1.[IndDurVtsk]
		,T1.[IndStartVtsk]
		,T1.[IndFinishVtsk]
		,T1.[Керівникмодульноїгрупи]
		,T1.[Текущийэтап]
		,T1.[Состояниеотчетности]
		,T1.[Кодбренду]
		,T1.[НазваКРІ]
		,T1.[КодКРІ]
		,T1.[Результат]
		,T1.[поплану]
		,T1.[Кодвіхи]
		,T1.[Кодетапу]
		,T1.[Етаппроекту]
		,T1.[КодRAвіхи]
		,T1.[КодRAетапу]
		, bt.[БазоваяДатаОкончанияЗадачи]
		, bt.[БазоваяДатаНачалаЗадачи]
		, bt.[БазоваяДлительностьЗадачи]
		FROM [Project].[Tasks] as T1
			join [Project].[Projects] p on t1.[идпроекта] = p.[идпроекта]
--			join project.baseprojects bp on bp.[идпроекта] = p.[идпроекта]
			join [project].[BaseTasks] bt on t1.[ИДПроекта] = bt.[ИДПроекта] and t1.[ИдентификаторЗадачи] = bt.[ИдентификаторЗадачи]
		where p.[Архів] = 0 and bt.[БазовыйНомер] = 0 
